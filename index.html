<!DOCTYPE html>
<html>
<head>
  <title>AI Home Security - Voice Control</title>
</head>
<body style="text-align:center; margin-top:100px;">

<h2>AI Home Security - Voice Control</h2>
<button id="startBtn">üé§ Start Voice Command</button>

<p id="status"></p>

<script>

const btn = document.getElementById("startBtn");
const statusText = document.getElementById("status");

const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

if (!SpeechRecognition) {
  statusText.innerHTML = "‚ùå Speech Recognition not supported in this browser";
} else {

  const recognition = new SpeechRecognition();
  recognition.lang = "en-US";

  btn.onclick = function() {
    recognition.start();
    statusText.innerHTML = "üéß Listening...";
  };

  recognition.onresult = function(event) {
    const command = event.results[0][0].transcript.toLowerCase();
    statusText.innerHTML = "You said: " + command;

    if (command.includes("unlock")) {
      fetch("http://10.137.238.200/authorized");
    }

    if (command.includes("lock")) {
      fetch("http://10.137.238.200/unknown");
    }
  };

  recognition.onerror = function(event) {
    statusText.innerHTML = "Error: " + event.error;
  };
}

</script>

</body>
</html>
